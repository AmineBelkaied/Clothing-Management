"use strict";(self.webpackChunkclothing_management_frontend=self.webpackChunkclothing_management_frontend||[]).push([[114],{3114:(x,c,i)=>{i.r(c),i.d(c,{NewTenantModule:()=>C});var h=i(177),d=i(5574),o=i(1562),e=i(4438),g=i(5779),f=i(5312),v=i(819);let y=(()=>{class n{constructor(s,t){this.http=s,this.storageService=t,this.endPoint=f.c.baseUrl+"/tenant",this.httpOptions={headers:new o.Lr({Authorization:"Bearer "+this.storageService.getToken()})}}upload(s){const t=new FormData;t.append("file",s),console.log(...t);const a=new o.Kd("POST",this.endPoint+"/upload",t,this.httpOptions);return console.log(a),this.http.request(a)}addTenant(s){return this.http.get(this.endPoint+"/add/"+s)}static{this.\u0275fac=function(t){return new(t||n)(e.KVO(o.Qq),e.KVO(v.n))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var m=i(1141),u=i(2242),l=i(4341);let S=(()=>{class n{constructor(s,t){this.messageService=s,this.tenantService=t,this.progress=0,this.message=""}onBasicUpload(){this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded with Basic Mode"})}selectFile(s){this.selectedFile=s.target.files[0],console.log(s.target.files[0]),this.tenantService.upload(this.selectedFile).subscribe(t=>{t.type===o.hv.UploadProgress?this.progress=Math.round(100*t.loaded/t.total):t instanceof o.cS&&(this.message=t.body.message),console.log("uploaded !!!"),this.messageService.add({severity:"info",summary:"Success",detail:"Le logo de l'entreprise est ajout\xe9 avec succ\xe9s"})},t=>{this.progress=0,this.message="Could not upload the file!",this.messageService.add({severity:"error  ",summary:"Success",detail:"Un probl\xe8me est survenue lors de l'ajout du logo de l'entreprise"})})}add(){this.progress=0,this.tenantService.addTenant(this.tenantName).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"La nouvelle entreprise est cr\xe9e avec succ\xe9s"})})}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(g.bg),e.rXU(y))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-new-tenant"]],decls:13,vars:1,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],["for","Name",1,"block","text-900","text-xl","font-medium","mb-3"],["id","name","type","text","placeholder","Nom de l'entreprise","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem",3,"ngModelChange","ngModel"],[1,"flex","align-items-center","justify-content-between","mb-5","gap-5"],["for","Name",1,"block","text-900","text-xl","font-medium","mb-2"],["type","file",3,"change"],["pButton","","pRipple","","label","Ajouter",1,"w-full","p-3","text-xl",3,"click"]],template:function(t,a){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"label",4),e.EFF(6," Nom de l'entreprise"),e.k0s(),e.j41(7,"input",5),e.mxI("ngModelChange",function(r){return e.DH7(a.tenantName,r)||(a.tenantName=r),r}),e.k0s(),e.j41(8,"div",6)(9,"label",7),e.EFF(10,"Choisir le logo"),e.k0s(),e.j41(11,"input",8),e.bIt("change",function(r){return a.selectFile(r)}),e.k0s()(),e.j41(12,"button",9),e.bIt("click",function(){return a.add()}),e.k0s()()()()()()),2&t&&(e.R7$(7),e.R50("ngModel",a.tenantName))},dependencies:[m._f,u.S,l.me,l.BC,l.vS]})}}return n})(),N=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild([{path:"",component:S}]),d.iI]})}}return n})();var T=i(9615),b=i(9998);let C=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[h.MD,N,m.tm,u.u,l.YN,T.e,b.MB]})}}return n})()}}]);