<div class="card ml-4 mt-2 mb-3" style="background-color: #fbfbfb">
    <p-card [style]="{ width: '100%'}">
      <p-tabView>
        <p-tabPanel header="Table">
          <p-table class="table" [value]="offerTableData"
              sortField="profits" [sortOrder]="-1"
              [scrollable]="true" scrollHeight="400px" >
            <ng-template pTemplate="header">
              <tr>
                <th>Model</th>
                <th>Min-Max</th>
                <th pSortableColumn="avg">Avg<p-sortIcon field="avg" /></th>
                <th pSortableColumn="payed">Payée<p-sortIcon field="payed" /></th>
                <th pSortableColumn="progress">En cours<p-sortIcon field="progress" /></th>
                <th>Retour</th>
                <th>Payée/Retour</th>
                <th pSortableColumn="purchasePrice">Prix Achat<p-sortIcon field="purchasePrice" /></th>
                <th pSortableColumn="sellingPrice">Prix Vente<p-sortIcon field="sellingPrice" /></th>
                <th pSortableColumn="profits" >Profits<p-sortIcon field="profits" /></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
              <tr>
                <td>{{ item.name }}</td>
                <td>{{ item.min }}-{{ item.max }}</td>
                <td>{{ item.avg }}</td>
                <td>{{ item.payed }}</td>
                <td>{{ item.progress }}</td>
                <td>{{ item.retour }}</td>
                <td>{{ formatNumber(item) }}%</td>
                <!-- Condition for total row -->
                  <td>{{ item.purchasePrice | number:'1.0-0' }}</td>
                  <td>{{ item.sellingPrice | number:'1.0-0' }}</td>
                  <td>{{ item.profits | number:'1.0-0' }}</td>
              </tr>
            </ng-template>
            <ng-template pTemplate="footer">
              <tr>
                <td>{{ totalOffer.name }}</td>
                <td>{{ totalOffer.min }}-{{ totalOffer.max }}</td>
                <td>{{ totalOffer.avg }}</td>
                <td>{{ totalOffer.payed }}</td>
                <td>{{ totalOffer.progress }}</td>
                <td>{{ totalOffer.retour }}</td>
                <td>{{ formatNumber(totalOffer) }}%</td>
                <!-- Condition for total row -->
                  <td>{{ totalOffer.purchasePrice | number:'1.0-0' }}</td>
                  <td>{{ totalOffer.sellingPrice | number:'1.0-0' }}</td>
                  <td>{{ totalOffer.profits | number:'1.0-0' }}</td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
        <p-tabPanel header="Chart">
          <p-chart type="line" [data]="offersData" [options]="offersOptions" height="30rem"></p-chart>
        </p-tabPanel>
      </p-tabView>
    </p-card>
  </div>
