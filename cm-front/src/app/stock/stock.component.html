<div class="container-fluid">
  <div class="row ml-3 mt-3">
    <p-dropdown [options]="models" (onChange)="onModelChange($event.value)" optionLabel="name"
     optionValue="id" [style]="{ width: '200px'}" [(ngModel)]="selectedModel"
    [panelStyle]="{ width: '200px' }" [showClear]="true" placeholder="Choisir le modÃ¨le" appendTo="body">
  </p-dropdown>
  </div>

  <div class="card ml-4 mt-2 mb-3" style="background-color: #fbfbfb">
    <div class="card-body">
      <div class="row">
<div class="col-md-9">
  <p-table [value]="products" styleClass="p-datatable-gridlines" [rowSelectable]="isRowSelectable" #dt >
    <ng-template pTemplate="header">
      <tr>
        <th>Colors</th>
        <th *ngFor="let size of sizes;let index=index" (click)="handleSizeClick(index, size)" style="cursor: pointer;">{{ size.reference }}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-productSizes let-ri="rowIndex">
      <tr>
       <td *ngFor="let productSize of productSizes" pEditableColumn style="cursor: pointer;" (click)="onCellClick(productSize, $event, ri)" (mouseenter)="selectMultiple(productSize, $event, ri)">
        <ng-container *ngIf="productSize.quantity != null;else colors">   {{productSize.quantity}}</ng-container>  
      <ng-template #colors> {{productSize.name}}</ng-template>
      </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<div class="col-md-3">
  <p-toggleButton [(ngModel)]="isMultiple" onLabel="selection-libre" offLabel="Selection/Produit" class="mb-4"></p-toggleButton>
  <br><br>
  <p-toggleButton [(ngModel)]="selectAll" onLabel="UnselectAll" offLabel="Select-All" (click)="selectAllProducts()"></p-toggleButton>
  <br><br>
  <p-inputNumber [(ngModel)]="qte" mode="decimal" inputId="withoutgrouping" [useGrouping]="false"> </p-inputNumber>
<br><br>
  <p-button label="Ajouter du stock" icon="pi pi-check" iconPos="right" (click)="add()"></p-button> 
</div>

</div>
</div>
</div>
</div>
