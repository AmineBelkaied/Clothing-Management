
  <div
    class="card shadow-sm rounded mb-3 align-items-center"
    style="background-color: #f8f9fa; width: 100%"
  >
    <div class="card-body p-3">
      <p-table
        [value]="productsStockTable"
        styleClass="p-datatable-gridlines"
        #dt
      ><!-- [columns]="selectedColumns" -->
      <ng-template pTemplate="body" let-row let-color="rowIndex">
        <ng-container *ngIf="row.colorId as productColor" >
          <ng-container *ngIf="totalRow(productColor) as count">
            <tr *ngIf="count>0">
              <td class="text-center td-width">
                <h6 class="mb-0">{{ [productColor] | displayColor }}: {{ count }}</h6>
              </td>
              <!-- Iterate over key-value pairs using keyvalue pipe -->
              <ng-container *ngFor="let sizeKey of selectedColumns">
                <ng-container *ngIf="row.sizes[sizeKey] as productSize" >
                      <td>
                        <h6>{{ productSize.qte }}</h6>
                      </td>
                </ng-container>
              </ng-container>
            </tr>
          </ng-container>
        </ng-container>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr>
          <td class="td-width" *ngIf="totalTableValue as total">
            <strong>Total Size {{ total }}</strong>
          </td>
          <ng-container *ngFor="let size of selectedColumns">
            <ng-container *ngIf="totalColumnArray[size] as totalCol">
              <ng-container *ngIf="totalCol > 0">
                <td class="td-width">
                  <h6>{{ [size] | displaySize }}: {{ totalCol }}</h6>
                </td>
              </ng-container>
            </ng-container>
          </ng-container>
        </tr>
      </ng-template>
      </p-table>
    </div>
  </div>

